<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Expense Tracker (LocalStorage)</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--muted:#9aa4b2;--accent:#7c3aed;--success:#10b981;--danger:#ef4444}
    *{box-sizing:border-box;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{margin:0;background:linear-gradient(180deg,#071025 0%, #0f1724 100%);color:#e6eef8;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .container{width:100%;max-width:1100px}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    header h1{font-size:20px;margin:0}
    .grid{display:grid;grid-template-columns:380px 1fr;gap:18px}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.6)}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    input,select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
    .row{display:flex;gap:10px}
    .row .half{flex:1}
    button{padding:10px 12px;border-radius:8px;border:0;background:var(--accent);color:white;font-weight:600;cursor:pointer}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06)}
    .entries{margin-top:12px;max-height:360px;overflow:auto}
    .entry{display:flex;align-items:center;justify-content:space-between;padding:10px;border-radius:8px;margin-bottom:8px;background:rgba(255,255,255,0.02)}
    .entry .left{display:flex;gap:10px;align-items:center}
    .chip{padding:6px 8px;border-radius:8px;font-size:12px}
    .income{background:rgba(16,185,129,0.12);color:var(--success)}
    .expense{background:rgba(239,68,68,0.12);color:var(--danger)}
    .small{font-size:12px;color:var(--muted)}
    .controls{display:flex;gap:8px;align-items:center;margin-bottom:10px}
    footer{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
    @media(max-width:900px){.grid{grid-template-columns:1fr;}.card{padding:12px}}
    .social-footer {
  text-align: center;
  margin-top: 30px;
  padding: 15px;
}

.social-links a {
  font-size: 28px;
  margin: 0 12px;
  display: inline-block;
  transition: transform 0.3s ease, color 0.3s ease;
  text-decoration: none;
  color: inherit;
}

/* Hover bounce animation */
.social-links a:hover {
  transform: translateY(-8px) scale(1.2);
}

/* Brand colors */
.github { color: #333; }
.linkedin { color: #0A66C2; }
.twitter { color: #1DA1F2; }
.instagram { color: #E1306C; }

/* Pulse animation */
.social-links a:hover i {
  animation: pulse 0.6s infinite alternate;
}

@keyframes pulse {
  from { transform: scale(1); }
  to { transform: scale(1.3); }
}

  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Expense Tracker — By:Vamsidhar Reddy</h1>
      <div class="logo-image">
        <img src="images/images/logo.jpeg" alt="Logo" style="width:40px;height:40px;border-radius:50%">
      <div class="small">Vamsidhar Reddy.D</div>
            </div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<footer class="social-footer">
  <p>Follow Me</p>
  <div class="social-links">
    <a href="https://github.com/vamsidharreddy10" target="_blank" class="github"><i class="fab fa-github"></i></a>
    <a href="https://vamsinani.my.canva.site/vamsi-nani-wrestler" target="_blank" class="linkedin"><i class="fab fa-linkedin"></i></a>
    <a href="https://wa.me/919381860715" target="_blank" class="whatsapp"><i class="fab fa-whatsapp"></i></a>
    <a href="https://www.instagram.com/mr_vamsi_nani_wrestler/?hl=en" target="_blank" class="instagram"><i class="fab fa-instagram"></i></a>
  </div>
</footer>


    </header>

    <div class="grid">
      <div class="card">
        <h3 style="margin:0 0 10px 0">Add / Edit entry</h3>
        <input type="hidden" id="editId" />
        <div>
          <label for="type">Type</label>
          <select id="type">
            <option value="expense">Expense</option>
            <option value="income">Income</option>
          </select>
        </div>

        <div style="margin-top:10px">
          <label for="amount">Amount (₹)</label>
          <input id="amount" type="number" placeholder="e.g. 250" />
        </div>

        <div style="margin-top:10px">
          <label for="category">Category</label>
          <select id="category">
            <option value="Food">Food</option>
            <option value="Travel">Travel</option>
            <option value="Shopping">Shopping</option>
            <option value="Bills">Bills</option>
            <option value="Health">Health</option>
            <option value="Salary">Salary</option>
            <option value="Freelance">Freelance</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <div class="row" style="margin-top:10px">
          <div class="half">
            <label for="note">Note</label>
            <input id="note" placeholder="Lunch at cafe" />
          </div>
          <div class="half">
            <label for="date">Date</label>
            <input id="date" type="date" />
          </div>
        </div>

        <div style="margin-top:12px;display:flex;gap:8px">
          <button id="addBtn">Save</button>
          <button id="cancelEditBtn" class="btn-ghost">Cancel</button>
        </div>

        <div class="controls" style="margin-top:12px">
          <label class="small">Show:</label>
          <select id="monthFilter" style="width:160px"></select>
          <button id="exportBtn" class="btn-ghost">Export JSON</button>
          <label for="importFile" class="btn-ghost" style="padding:8px;border-radius:8px;cursor:pointer">Import</label>
          <input id="importFile" type="file" accept="application/json" style="display:none" />
          <button id="sampleBtn" class="btn-ghost">Insert sample data</button>
          <button id="clearBtn" class="btn-ghost">Clear all</button>
        </div>

        <div class="entries" id="entries"></div>
      </div>

      <div>
        <div class="card" style="margin-bottom:12px">
          <div style="display:flex;align-items:center;justify-content:space-between">
            <div>
              <div class="small">Balance</div>
              <h2 id="balance">₹0</h2>
            </div>
            <div style="text-align:right">
              <div class="small">Income</div>
              <div id="totalIncome">₹0</div>
              <div class="small" style="margin-top:6px">Expense</div>
              <div id="totalExpense">₹0</div>
            </div>
          </div>
        </div>

        <div class="card" style="margin-bottom:12px">
          <h3 style="margin:0 0 8px 0">Charts</h3>
          <canvas id="barChart" height="120"></canvas>
          <div style="height:18px"></div>
          <canvas id="pieChart" height="120"></canvas>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const STORAGE_KEY = 'expenseTracker_entries';
    function readEntries(){ return JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]'); }
    function writeEntries(list){ localStorage.setItem(STORAGE_KEY, JSON.stringify(list)); }

    const typeEl=document.getElementById('type');
    const amountEl=document.getElementById('amount');
    const categoryEl=document.getElementById('category');
    const noteEl=document.getElementById('note');
    const dateEl=document.getElementById('date');
    const addBtn=document.getElementById('addBtn');
    const cancelEditBtn=document.getElementById('cancelEditBtn');
    const editIdEl=document.getElementById('editId');
    const entriesEl=document.getElementById('entries');
    const balanceEl=document.getElementById('balance');
    const incomeEl=document.getElementById('totalIncome');
    const expenseEl=document.getElementById('totalExpense');
    const monthFilter=document.getElementById('monthFilter');
    const exportBtn=document.getElementById('exportBtn');
    const importFile=document.getElementById('importFile');
    const sampleBtn=document.getElementById('sampleBtn');
    const clearBtn=document.getElementById('clearBtn');

    dateEl.value=new Date().toISOString().slice(0,10);

    addBtn.addEventListener('click',()=>{
      const id=editIdEl.value?Number(editIdEl.value):Date.now();
      const type=typeEl.value;
      const amount=parseFloat(amountEl.value);
      const category=categoryEl.value;
      const note=noteEl.value.trim();
      const date=dateEl.value;
      if(!amount||amount<=0){alert('Enter valid amount');return;}
      if(!date){alert('Select date');return;}
      let entries=readEntries();
      if(editIdEl.value){
        entries=entries.map(e=>e.id===id?{id,type,amount,category,note,date}:e);
      }else{
        entries.push({id,type,amount,category,note,date});
      }
      writeEntries(entries);
      resetForm();
      render();
    });

    cancelEditBtn.addEventListener('click',()=>resetForm());

    function resetForm(){
      editIdEl.value='';
      typeEl.value='expense';
      amountEl.value='';
      categoryEl.value='Food';
      noteEl.value='';
      dateEl.value=new Date().toISOString().slice(0,10);
      addBtn.textContent='Save';
    }

    function deleteEntry(id){
      let entries=readEntries().filter(e=>e.id!==id);
      writeEntries(entries);
      render();
    }

    function editEntry(entry){
      editIdEl.value=entry.id;
      typeEl.value=entry.type;
      amountEl.value=entry.amount;
      categoryEl.value=entry.category;
      noteEl.value=entry.note;
      dateEl.value=entry.date;
      addBtn.textContent='Update';
    }

    clearBtn.addEventListener('click',()=>{if(confirm('Clear all?')){localStorage.removeItem(STORAGE_KEY);render();}});

    sampleBtn.addEventListener('click',()=>{
      const sample=[{id:1,type:'income',amount:5000,category:'Salary',note:'Salary',date:new Date().toISOString().slice(0,10)},{id:2,type:'expense',amount:200,category:'Food',note:'Lunch',date:new Date().toISOString().slice(0,10)}];
      writeEntries(readEntries().concat(sample));render();
    });

    exportBtn.addEventListener('click',()=>{
      const data=JSON.stringify(readEntries());
      const blob=new Blob([data],{type:'application/json'});
      const url=URL.createObjectURL(blob);
      const a=document.createElement('a');a.href=url;a.download='data.json';a.click();URL.revokeObjectURL(url);
    });

    importFile.addEventListener('change',ev=>{
      const f=ev.target.files[0];if(!f)return;
      const reader=new FileReader();reader.onload=()=>{try{const d=JSON.parse(reader.result);if(Array.isArray(d)){writeEntries(readEntries().concat(d));render();}}catch(e){alert('Invalid file');}};
      reader.readAsText(f);
    });

    function render(){
      const entries=readEntries().sort((a,b)=>new Date(b.date)-new Date(a.date));
      const selectedMonth=monthFilter.value;
      const months=[...new Set(entries.map(e=>e.date.slice(0,7)))].sort().reverse();
      monthFilter.innerHTML='<option value="all">All</option>'+months.map(m=>`<option value="${m}" ${m===selectedMonth?"selected":""}>${m}</option>`).join('');
      const filtered=selectedMonth&&selectedMonth!=='all'?entries.filter(e=>e.date.slice(0,7)===selectedMonth):entries;

      let income=0,expense=0;
      filtered.forEach(e=>e.type==='income'?income+=e.amount:expense+=e.amount);
      balanceEl.textContent=`₹${income-expense}`;
      incomeEl.textContent=`₹${income}`;
      expenseEl.textContent=`₹${expense}`;

      entriesEl.innerHTML='';
      filtered.forEach(e=>{
        const div=document.createElement('div');div.className='entry';
        div.innerHTML=`<div class="left"><div class="chip ${e.type}">${e.type.toUpperCase()}</div><div><div style="font-weight:600">₹${e.amount} • ${e.category}</div><div class="small">${e.note} • ${e.date}</div></div></div><div><button class="btn-ghost" style="padding:6px 8px;margin-right:5px">Edit</button><button class="btn-ghost" style="padding:6px 8px">Delete</button></div>`;
        const [editBtn,delBtn]=div.querySelectorAll('button');
        editBtn.addEventListener('click',()=>editEntry(e));
        delBtn.addEventListener('click',()=>deleteEntry(e.id));
        entriesEl.appendChild(div);
      });

      updateCharts(entries,selectedMonth);
    }

    let barChart=null,pieChart=null;
    function updateCharts(allEntries,month){
      const byMonth={};
      allEntries.forEach(e=>{const m=e.date.slice(0,7);if(!byMonth[m])byMonth[m]={income:0,expense:0};byMonth[m][e.type]+=e.amount;});
      const months=Object.keys(byMonth).sort().slice(-6);
      const barLabels=months;
      const incomeData=months.map(m=>byMonth[m].income);
      const expenseData=months.map(m=>byMonth[m].expense);
      if(barChart)barChart.destroy();
      barChart=new Chart(document.getElementById('barChart'),{type:'bar',data:{labels:barLabels,datasets:[{label:'Income',data:incomeData},{label:'Expense',data:expenseData}]}});

      const pieData={};
      allEntries.forEach(e=>{if(month!=='all'&&month&&e.date.slice(0,7)!==month)return;if(e.type==='expense')pieData[e.category]=(pieData[e.category]||0)+e.amount;});
      if(pieChart)pieChart.destroy();
      pieChart=new Chart(document.getElementById('pieChart'),{type:'pie',data:{labels:Object.keys(pieData),datasets:[{data:Object.values(pieData)}]}});
    }

    monthFilter.addEventListener('change',render);
    render();
  </script>
</body>
</html>
